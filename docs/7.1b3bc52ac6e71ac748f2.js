(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BjfT:function(t,e,a){"use strict";a.r(e),a.d(e,"ChartingModule",function(){return X});var n=a("ofXK"),r=a("LPYB"),i=a("tyNb"),s=a("P+IX"),o=a("Q71d"),l=a("VzMc"),c=a("3Huf"),h=a("+sQQ"),p=a("fXoL"),d=a("tqRt"),g=a("kmnG"),m=a("qFsG"),u=a("iadO"),C=a("d3UM"),b=a("0MNC"),f=a("Xa2L");const y=["myChart"];function v(t,e){1&t&&(p["\u0275\u0275elementStart"](0,"div",6),p["\u0275\u0275elementStart"](1,"h2",7),p["\u0275\u0275text"](2,"No Data Available"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]())}function x(t,e){1&t&&(p["\u0275\u0275elementStart"](0,"div",8),p["\u0275\u0275elementStart"](1,"div",9),p["\u0275\u0275element"](2,"mat-spinner"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]())}let D=(()=>{class t{constructor(t){this.media=t,this.chartTitle="",this.chartDataEmpty=!1,this.lineChartData=[{data:[],label:"Infections"}],this.yAxes=!0,this.lineChartOptions={responsive:!0,title:{display:!1,text:""},scales:{xAxes:[{type:"time",gridLines:{display:!0},time:{minUnit:"month"}}],yAxes:[{type:"linear",id:"left-axis",display:this.yAxes,position:"left",ticks:{min:0}},{type:"linear",id:"right-axis",display:this.yAxes,position:"right",stacked:!1,gridLines:{drawOnChartArea:!1},ticks:{min:0}}]},elements:{point:{radius:1,hitRadius:4}},plugins:{streaming:!1}},this.lineChartLegend=!0,this.lineChartType="line",this.changeEventListener=(function(t){this.yAxes=!t.matches,this.updateChart(!t.matches)}).bind(this)}ngOnDestroy(){var t;null===(t=this.mobileQuery)||void 0===t||t.removeEventListener("change",this.changeEventListener)}ngOnInit(){var t;this.lineChartData=this.chartdata,this.lineChartOptions.title.text=this.chartTitle,this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this.mobileQuery.addEventListener("change",this.changeEventListener),this.yAxes=!(null===(t=this.mobileQuery)||void 0===t?void 0:t.matches)}updateChart(t){this.myChart&&(this.myChart.chart.options.scales.yAxes[0].display=t,this.myChart.chart.options.scales.yAxes[1].display=t)}ngAfterViewInit(){this.updateChart(this.yAxes)}}return t.\u0275fac=function(e){return new(e||t)(p["\u0275\u0275directiveInject"](b.c))},t.\u0275cmp=p["\u0275\u0275defineComponent"]({type:t,selectors:[["app-chart-presentation"]],viewQuery:function(t,e){if(1&t&&p["\u0275\u0275viewQuery"](y,1),2&t){let t;p["\u0275\u0275queryRefresh"](t=p["\u0275\u0275loadQuery"]())&&(e.myChart=t.first)}},inputs:{chartdata:"chartdata",chartLabels:"chartLabels",chartTitle:"chartTitle",lineChartColors:"lineChartColors",loading:"loading",chartDataEmpty:"chartDataEmpty"},decls:7,vars:9,consts:[["id","title"],["id","container"],["id","chart","baseChart","",3,"datasets","labels","options","colors","legend","chartType"],["myChart","base-chart"],["class","overlay-background transparent",4,"ngIf"],["class","overlay-background",4,"ngIf"],[1,"overlay-background","transparent"],[1,"center","nodata"],[1,"overlay-background"],[1,"center"]],template:function(t,e){1&t&&(p["\u0275\u0275elementStart"](0,"h3",0),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](2,"div",1),p["\u0275\u0275element"](3,"canvas",2,3),p["\u0275\u0275template"](5,v,3,0,"div",4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](6,x,3,0,"div",5)),2&t&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](e.chartTitle),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("datasets",e.chartdata)("labels",e.chartLabels)("options",e.lineChartOptions)("colors",e.lineChartColors)("legend",e.lineChartLegend)("chartType","line"),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",!e.loading&&e.chartDataEmpty),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.loading))},directives:[r.a,n.m,f.b],styles:["#container[_ngcontent-%COMP%]{position:relative}#container[_ngcontent-%COMP%], .overlay-background[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:0}.overlay-background[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.7);z-index:9999;position:absolute;margin:0}.overlay-background[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.overlay-background[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{color:rgba(139,124,124,.5)}.overlay-background.transparent[_ngcontent-%COMP%]{background-color:inherit}"]}),t})();var P=a("FKr1"),k=a("9A8T");function w(t,e){if(1&t&&(p["\u0275\u0275elementStart"](0,"mat-option",16),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;p["\u0275\u0275property"]("value",t.value),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](t.title)}}let O=(()=>{class t{constructor(t){this.store=t,this.states=Object(h.a)(h.b),this.lineChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,120,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(50,50,255,0.75)"}],this.deathChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,120,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(50,50,255,0.75)"}],this.hospitalChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(255,120,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(255,50,255,0.75)"}],this.infectionChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,255,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(120,120,120,0.75)"}],this.testChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,120,255,0.0)"},{borderColor:"green",backgroundColor:"rgba(50,50,0,0.75)"}]}ngOnInit(){this.$chartData=this.store.select(o.h),this.$deathData=this.store.select(o.e),this.$infectionData=this.store.select(o.g),this.$hospitalData=this.store.select(o.f),this.$testsData=this.store.select(o.i),this.$chartLabels=this.store.select(o.d),this.$startDate=this.store.select(o.o),this.$endDate=this.store.select(o.m),this.$chartTitle=this.store.select(o.c),this.maxDate=new Date(l.j.endDate),this.minDate=new Date(l.j.startDate),this.$loading=this.store.select(o.k)}endDateChanged(t){this.store.dispatch(c.f({ed:t}))}startDateChanged(t){this.store.dispatch(c.g({sd:t}))}nationStateValueChanged(t){this.store.dispatch(c.d({selection:t}))}}return t.\u0275fac=function(e){return new(e||t)(p["\u0275\u0275directiveInject"](d.i))},t.\u0275cmp=p["\u0275\u0275defineComponent"]({type:t,selectors:[["app-charting"]],decls:51,vars:85,consts:[[1,"data-date-range"],["id","startDate","matInput","","placeholder","Choose a date","readonly","",3,"value","min","max","matDatepicker","dateChange","click"],["startDate",""],["matSuffix","",3,"for"],[3,"startAt"],["startPicker",""],["id","endDate","matInput","","placeholder","Choose a date","readonly","",3,"value","min","max","matDatepicker","dateChange","click"],["endDate",""],["endPicker",""],["id","regionSelector","value","US",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"chart-row"],["id","infectionsChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],["id","deathChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],["id","testChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],["id","hospitalChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],[3,"value"]],template:function(t,e){if(1&t){const t=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"mat-form-field"),p["\u0275\u0275elementStart"](2,"mat-label"),p["\u0275\u0275text"](3,"Choose a start date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"input",1,2),p["\u0275\u0275listener"]("dateChange",function(){p["\u0275\u0275restoreView"](t);const a=p["\u0275\u0275reference"](5);return e.startDateChanged(a.value)})("click",function(){return p["\u0275\u0275restoreView"](t),p["\u0275\u0275reference"](9).open()}),p["\u0275\u0275pipe"](6,"ngrxPush"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](7,"mat-datepicker-toggle",3),p["\u0275\u0275element"](8,"mat-datepicker",4,5),p["\u0275\u0275pipe"](10,"ngrxPush"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](11,"mat-form-field"),p["\u0275\u0275elementStart"](12,"mat-label"),p["\u0275\u0275text"](13,"Choose a end date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](14,"input",6,7),p["\u0275\u0275listener"]("dateChange",function(){p["\u0275\u0275restoreView"](t);const a=p["\u0275\u0275reference"](15);return e.endDateChanged(a.value)})("click",function(){return p["\u0275\u0275restoreView"](t),p["\u0275\u0275reference"](19).open()}),p["\u0275\u0275pipe"](16,"ngrxPush"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](17,"mat-datepicker-toggle",3),p["\u0275\u0275element"](18,"mat-datepicker",4,8),p["\u0275\u0275pipe"](20,"ngrxPush"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"mat-form-field"),p["\u0275\u0275elementStart"](22,"mat-label"),p["\u0275\u0275text"](23,"State or National"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](24,"mat-select",9),p["\u0275\u0275listener"]("selectionChange",function(t){return e.nationStateValueChanged(t.value)}),p["\u0275\u0275template"](25,w,2,2,"mat-option",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](26,"div",11),p["\u0275\u0275element"](27,"app-chart-presentation",12),p["\u0275\u0275pipe"](28,"ngrxPush"),p["\u0275\u0275pipe"](29,"ngrxPush"),p["\u0275\u0275pipe"](30,"ngrxPush"),p["\u0275\u0275pipe"](31,"ngrxPush"),p["\u0275\u0275pipe"](32,"ngrxPush"),p["\u0275\u0275element"](33,"app-chart-presentation",13),p["\u0275\u0275pipe"](34,"ngrxPush"),p["\u0275\u0275pipe"](35,"ngrxPush"),p["\u0275\u0275pipe"](36,"ngrxPush"),p["\u0275\u0275pipe"](37,"ngrxPush"),p["\u0275\u0275pipe"](38,"ngrxPush"),p["\u0275\u0275element"](39,"app-chart-presentation",14),p["\u0275\u0275pipe"](40,"ngrxPush"),p["\u0275\u0275pipe"](41,"ngrxPush"),p["\u0275\u0275pipe"](42,"ngrxPush"),p["\u0275\u0275pipe"](43,"ngrxPush"),p["\u0275\u0275pipe"](44,"ngrxPush"),p["\u0275\u0275element"](45,"app-chart-presentation",15),p["\u0275\u0275pipe"](46,"ngrxPush"),p["\u0275\u0275pipe"](47,"ngrxPush"),p["\u0275\u0275pipe"](48,"ngrxPush"),p["\u0275\u0275pipe"](49,"ngrxPush"),p["\u0275\u0275pipe"](50,"ngrxPush"),p["\u0275\u0275elementEnd"]()}if(2&t){const t=p["\u0275\u0275reference"](9),a=p["\u0275\u0275reference"](19);p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("value",p["\u0275\u0275pipeBind1"](6,37,e.$startDate))("min",e.minDate)("max",e.maxDate)("matDatepicker",t),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("for",t),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("startAt",p["\u0275\u0275pipeBind1"](10,39,e.$startDate)),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("value",p["\u0275\u0275pipeBind1"](16,41,e.$endDate))("min",e.minDate)("max",e.maxDate)("matDatepicker",a),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("for",a),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("startAt",p["\u0275\u0275pipeBind1"](20,43,e.$endDate)),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngForOf",e.states),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("chartdata",p["\u0275\u0275pipeBind1"](28,45,e.$infectionData))("chartLabels",p["\u0275\u0275pipeBind1"](29,47,e.$chartLabels))("chartTitle","Infections")("lineChartColors",e.infectionChartColors)("loading",p["\u0275\u0275pipeBind1"](30,49,e.$loading))("chartDataEmpty",p["\u0275\u0275pipeBind1"](31,51,e.$infectionData)[0].empty&&p["\u0275\u0275pipeBind1"](32,53,e.$infectionData)[1].empty),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("chartdata",p["\u0275\u0275pipeBind1"](34,55,e.$deathData))("chartLabels",p["\u0275\u0275pipeBind1"](35,57,e.$chartLabels))("chartTitle","Deaths")("lineChartColors",e.deathChartColors)("loading",p["\u0275\u0275pipeBind1"](36,59,e.$loading))("chartDataEmpty",p["\u0275\u0275pipeBind1"](37,61,e.$deathData)[0].empty&&p["\u0275\u0275pipeBind1"](38,63,e.$deathData)[1].empty),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("chartdata",p["\u0275\u0275pipeBind1"](40,65,e.$testsData))("chartLabels",p["\u0275\u0275pipeBind1"](41,67,e.$chartLabels))("chartTitle","Tests")("lineChartColors",e.testChartColors)("loading",p["\u0275\u0275pipeBind1"](42,69,e.$loading))("chartDataEmpty",p["\u0275\u0275pipeBind1"](43,71,e.$testsData)[0].empty&&p["\u0275\u0275pipeBind1"](44,73,e.$testsData)[1].empty),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("chartdata",p["\u0275\u0275pipeBind1"](46,75,e.$hospitalData))("chartLabels",p["\u0275\u0275pipeBind1"](47,77,e.$chartLabels))("chartTitle","Hospitalized")("lineChartColors",e.hospitalChartColors)("loading",p["\u0275\u0275pipeBind1"](48,79,e.$loading))("chartDataEmpty",p["\u0275\u0275pipeBind1"](49,81,e.$hospitalData)[0].empty&&p["\u0275\u0275pipeBind1"](50,83,e.$hospitalData)[1].empty)}},directives:[g.c,g.f,m.b,u.b,u.d,g.g,u.a,C.a,n.l,D,P.j],pipes:[k.a],styles:[".data-date-range[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;flex-direction:column;padding-top:1rem;align-items:center;margin:64px auto auto}.data-date-range[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding-left:0;padding-right:0;width:90%}.chart-row[_ngcontent-%COMP%]{justify-content:space-around;margin-bottom:3rem}.chart-row[_ngcontent-%COMP%], .chart-row[_ngcontent-%COMP%]   app-chart-presentation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.chart-row[_ngcontent-%COMP%]   app-chart-presentation[_ngcontent-%COMP%]{width:95%;min-height:15rem;margin-top:1rem;position:relative}@media screen and (min-width:900px){.data-date-range[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}.data-date-range[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:30%;padding-left:.5rem}}@media screen and (min-width:1200px){.chart-row[_ngcontent-%COMP%]{flex-direction:row;align-items:stretch;flex-wrap:wrap}.chart-row[_ngcontent-%COMP%]   app-chart-presentation[_ngcontent-%COMP%]{width:45%}}"]}),t})();var E=a("IzEk"),$=a("vkgz"),L=a("LRne"),M=a("DH7j"),j=a("yCtX"),B=a("l7GE"),_=a("ZUHj");class S{call(t,e){return e.subscribe(new I(t))}}class I extends B.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let a=0;a<e&&!this.hasFirst;a++){const e=t[a],n=Object(_.a)(this,e,void 0,a);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}}notifyNext(t,e,a){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==a){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}const T=[{path:"",component:O,canActivate:[s.a],resolve:[(()=>{class t{constructor(t,e){this.store=t,this.router=e}resolve(t){let e,a=!1;return this.store.select(o.j).pipe(Object(E.a)(1)).subscribe(t=>a=t),a?(this.store.select(o.l).pipe(Object(E.a)(1)).subscribe(t=>e=[...t]),c.c):(this.store.dispatch(c.b()),function(...t){if(1===t.length){if(!Object(M.a)(t[0]))return t[0];t=t[0]}return Object(j.a)(t,void 0).lift(new S)}(Object(L.a)(c.c),Object(L.a)(c.a).pipe(Object($.a)(()=>this.router.navigate([""])))).pipe(Object(E.a)(1)))}}return t.\u0275fac=function(e){return new(e||t)(p["\u0275\u0275inject"](d.i),p["\u0275\u0275inject"](i.g))},t.\u0275prov=p["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]}];let A=(()=>{class t{}return t.\u0275mod=p["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.j.forChild(T)],i.j]}),t})();var F=a("7bNT"),N=a("N7LN"),Q=a("s7LF"),V=a("pKmL");let X=(()=>{class t{}return t.\u0275mod=p["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[n.c,r.b,A,d.k.forFeature(o.a,o.b),F.b.forFeature([N.a]),Q.f,V.a]]}),t})()}}]);