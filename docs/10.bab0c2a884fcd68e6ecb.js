(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"7zg2":function(t,e,n){"use strict";n.r(e),n.d(e,"RandomModule",function(){return N});var i=n("ofXK"),s=n("tyNb"),r=n("fXoL"),o=n("xgIS"),a=n("VRyK"),c=n("HDdC"),u=n("D0XW"),l=n("Y7HM");function h(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var m=n("XNiG"),p=n("lJxs"),d=n("zx2A");class b{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new g(t,this.notifier))}}class g extends d.b{constructor(t,e){super(t),this.hasValue=!1;const n=new d.a(this);this.add(n),this.innerSubscription=n;const i=Object(d.c)(e,n);i!==n&&(this.add(i),this.innerSubscription=i)}_next(t){this.hasValue&&super._next(t)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}var f=n("1G5W"),y=n("7o/Q"),v=n("EY2u");class O{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new j(t,this.count,this.source))}}class j extends y.a{constructor(t,e,n){super(t),this.count=e,this.source=n}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}var w=n("CqXF"),x=n("JX91"),$=n("zp1y"),D=n("pLZG");function I(t=u.a){return Object(p.a)(e=>new M(e,t.now()))}class M{constructor(t,e){this.value=t,this.timestamp=e}}var P=n("gcYM"),T=n("Kqap"),R=n("R0Ic"),A=function(t){return t[t.X=0]="X",t[t.Y=1]="Y",t}({}),S=function(t){return t.ease="ease",t.easeIn="ease-in",t.easeOut="ease-out",t.easeInOut="ease-in-out",t.linear="linear",t}({});let C=(()=>{class t{constructor(t,e){this.builder=t,this.el=e,this.startPosition={x:0,y:0,timestamp:0},this.imageUrls=[],this.duration=4e3,this.easing=S.linear,this.maxTravelDistance=400,this.opacity=.4,this.dynamicAnimationDone=new r.EventEmitter}randomNumber(t=0,e=255){return Math.random()*(e-t)+t}getRandomInt(t=0,e=255){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}generateRGB(){return`rgb(${this.getRandomInt()},${this.getRandomInt()},${this.getRandomInt()})`}generateScale(t=.5,e=4){return`scale(${this.randomNumber(t,e)})`}randomNumberFromStartPos(t,e,n=A.X){const i=n===A.X?this.startPosition.x:this.startPosition.y;return this.randomNumber(t,e)+i}generateTranslate(){return`translate(${this.getRandomInt(-1*this.maxTravelDistance,this.maxTravelDistance)}px,${this.getRandomInt(-1*this.maxTravelDistance,this.maxTravelDistance)}px)`}generateTranslateWithScale(){return this.generateTranslate()+" "+this.generateScale()}playAnimation(t){const e=this.builder.build(t).create(this.el.nativeElement);e.onDone(()=>{this.dynamicAnimationDone.emit()}),e.play()}getMouseAnimation(){const t=this.createAnimateObj();return[Object(R.e)(this.duration+"ms "+this.easing,Object(R.j)(t))]}createAnimateObj(){let t={};return t.opacity=this.opacity,0===this.imageUrls.length&&(t.background=this.generateRGB()),t.transform=this.generateTranslateWithScale(),t}getBackgroundUrl(){return`url(${this.imageUrls[this.getRandomInt(0,this.imageUrls.length-1)]}) center center / cover no-repeat`}ngAfterViewInit(){let t;this.el.nativeElement.style.setProperty("position","fixed"),this.el.nativeElement.style.setProperty("top",`${this.startPosition.y}px`),this.el.nativeElement.style.setProperty("left",`${this.startPosition.x}px`),t=this.imageUrls.length>0?this.getBackgroundUrl():this.generateRGB(),this.el.nativeElement.style.setProperty("background",t),this.playAnimation(this.getMouseAnimation())}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](R.b),r["\u0275\u0275directiveInject"](r.ElementRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","appDynamicAnimate",""]],inputs:{startPosition:"startPosition",imageUrls:"imageUrls",duration:"duration",easing:"easing",maxTravelDistance:"maxTravelDistance",opacity:"opacity"},outputs:{dynamicAnimationDone:"dynamicAnimationDone"}}),t})();function U(t,e){if(1&t){const t=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275elementStart"](1,"div",2),r["\u0275\u0275listener"]("dynamicAnimationDone",function(){r["\u0275\u0275restoreView"](t);const n=e.$implicit;return r["\u0275\u0275nextContext"]().destroyItem(n)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("startPosition",t)("imageUrls",n.iconUrls)}}let E=(()=>{class t{constructor(){var t;this.iconUrls=[],this.mouseDown$=Object(o.a)(document,"mousedown"),this.mouseMove$=Object(o.a)(document,"mousemove").pipe(Object(p.a)(t=>({x:t.clientX,y:t.clientY}))),this.mouseUp$=Object(o.a)(document,"mouseup"),this.mousePath$=this.mouseMove$.pipe((t=this.mouseDown$,e=>e.lift(new b(t))),Object(f.a)(this.mouseUp$),function(t=-1){return e=>0===t?Object(v.b)():e.lift(new O(t<0?-1:t-1,e))}()),this.touchMove$=Object(o.a)(document,"touchmove").pipe(Object(p.a)(t=>({x:t.touches[0].clientX,y:t.touches[0].clientY}))),this.pause$=Object(o.a)(document,"dblclick").pipe(Object(w.a)(!1)),this.resume$=Object(o.a)(document,"click").pipe(Object(w.a)(!0)),this.leftToRightPauseStream$=Object(a.a)(this.pause$,this.resume$).pipe(Object(x.a)(!0)),this.leftToRightStream$=function(t=0,e=u.a){return(!Object(l.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=u.a),new c.a(n=>(n.add(e.schedule(h,t,{subscriber:n,counter:0,period:t})),n))}(30).pipe(Object($.a)(this.leftToRightPauseStream$),Object(D.a)(([t,e])=>e),Object(p.a)(([t,e])=>t),I(),Object(p.a)(t=>{const e=window.innerWidth;let n=e/750*t.value;return n=n>e?n%e:n,{x:n,y:window.innerHeight/2,timestamp:t.timestamp}})),this.bubbleItemToDestroy$=new m.b,this.followMouseCursorOrTouches$=Object(a.a)(this.mouseMove$,this.touchMove$).pipe(Object(P.a)(20),I(),Object(p.a)(t=>({x:t.value.x,y:t.value.y,timestamp:t.timestamp}))),this.bubbleFun$=Object(a.a)(this.followMouseCursorOrTouches$,this.leftToRightStream$,this.bubbleItemToDestroy$).pipe(Object(T.a)((t,e)=>t.includes(e)?t.filter(t=>t!=e):[...t,e],[]))}ngOnInit(){this.resume$.subscribe(t=>console.log(`Clicked new value is ${t}`))}ngAfterViewInit(){}destroyItem(t){this.bubbleItemToDestroy$.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["app-mouse-move"]],decls:3,vars:3,consts:[[1,"container"],[4,"ngFor","ngForOf"],["appDynamicAnimate","",1,"bubble",3,"startPosition","imageUrls","dynamicAnimationDone"]],template:function(t,e){1&t&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,U,2,2,"div",1),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275elementEnd"]()),2&t&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](2,1,e.bubbleFun$)))},directives:[i.m,C],pipes:[i.b],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;background:#fff}.bubble[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50px;opacity:.2}.outer[_ngcontent-%COMP%]{background:#c8c8c8;position:fixed;opacity:.4;transition:4s linear}"]}),t})();const X=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["app-random"]],decls:1,vars:0,template:function(t,e){1&t&&r["\u0275\u0275element"](0,"app-mouse-move")},directives:[E],styles:[""]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[s.j.forChild(X)],s.j]}),t})(),N=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.c,k]]}),t})()}}]);