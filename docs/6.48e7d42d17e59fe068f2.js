(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{BjfT:function(t,a,e){"use strict";e.r(a),e.d(a,"ChartingModule",function(){return V});var r=e("ofXK"),n=e("LPYB"),i=e("tyNb"),s=e("P+IX"),o=e("Q71d"),c=e("VzMc"),h=e("3Huf"),l=e("+sQQ"),d=e("fXoL"),g=e("tqRt"),b=e("Q2Ze"),p=e("e6WT"),u=e("TN/R"),C=e("ZTz/"),f=e("HeVh"),m=e("pu8Q");const y=["myChart"];function D(t,a){1&t&&(d.Ub(0,"div",6),d.Ub(1,"h2",7),d.xc(2,"No Data Available"),d.Tb(),d.Tb())}function x(t,a){1&t&&(d.Ub(0,"div",8),d.Ub(1,"div",9),d.Pb(2,"mat-spinner"),d.Tb(),d.Tb())}let v=(()=>{class t{constructor(t){this.media=t,this.chartTitle="",this.chartDataEmpty=!1,this.lineChartData=[{data:[],label:"Infections"}],this.yAxes=!0,this.lineChartOptions={responsive:!0,title:{display:!1,text:""},scales:{xAxes:[{type:"time",gridLines:{display:!0},time:{minUnit:"month"}}],yAxes:[{type:"linear",id:"left-axis",display:this.yAxes,position:"left",ticks:{min:0}},{type:"linear",id:"right-axis",display:this.yAxes,position:"right",stacked:!1,gridLines:{drawOnChartArea:!1},ticks:{min:0}}]},elements:{point:{radius:1,hitRadius:4}},plugins:{streaming:!1}},this.lineChartLegend=!0,this.lineChartType="line",this.changeEventListener=(function(t){this.yAxes=!t.matches,this.updateChart(!t.matches)}).bind(this)}ngOnDestroy(){var t;null===(t=this.mobileQuery)||void 0===t||t.removeEventListener("change",this.changeEventListener)}ngOnInit(){var t;this.lineChartData=this.chartdata,this.lineChartOptions.title.text=this.chartTitle,this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this.mobileQuery.addEventListener("change",this.changeEventListener),this.yAxes=!(null===(t=this.mobileQuery)||void 0===t?void 0:t.matches)}updateChart(t){this.myChart&&(this.myChart.chart.options.scales.yAxes[0].display=t,this.myChart.chart.options.scales.yAxes[1].display=t)}ngAfterViewInit(){this.updateChart(this.yAxes)}}return t.\u0275fac=function(a){return new(a||t)(d.Ob(f.c))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-chart-presentation"]],viewQuery:function(t,a){if(1&t&&d.Ac(y,1),2&t){let t;d.nc(t=d.cc())&&(a.myChart=t.first)}},inputs:{chartdata:"chartdata",chartLabels:"chartLabels",chartTitle:"chartTitle",lineChartColors:"lineChartColors",loading:"loading",chartDataEmpty:"chartDataEmpty"},decls:7,vars:9,consts:[["id","title"],["id","container"],["id","chart","baseChart","",3,"datasets","labels","options","colors","legend","chartType"],["myChart","base-chart"],["class","overlay-background transparent",4,"ngIf"],["class","overlay-background",4,"ngIf"],[1,"overlay-background","transparent"],[1,"center","nodata"],[1,"overlay-background"],[1,"center"]],template:function(t,a){1&t&&(d.Ub(0,"h3",0),d.xc(1),d.Tb(),d.Ub(2,"div",1),d.Pb(3,"canvas",2,3),d.wc(5,D,3,0,"div",4),d.Tb(),d.wc(6,x,3,0,"div",5)),2&t&&(d.Db(1),d.yc(a.chartTitle),d.Db(2),d.kc("datasets",a.chartdata)("labels",a.chartLabels)("options",a.lineChartOptions)("colors",a.lineChartColors)("legend",a.lineChartLegend)("chartType","line"),d.Db(2),d.kc("ngIf",!a.loading&&a.chartDataEmpty),d.Db(1),d.kc("ngIf",a.loading))},directives:[n.a,r.l,m.b],styles:["#container[_ngcontent-%COMP%]{position:relative}#container[_ngcontent-%COMP%], .overlay-background[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:0}.overlay-background[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.7);z-index:9999;position:absolute;margin:0}.overlay-background[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.overlay-background[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{color:rgba(139,124,124,.5)}.overlay-background.transparent[_ngcontent-%COMP%]{background-color:inherit}"]}),t})();var P=e("UhP/"),k=e("9A8T");function O(t,a){if(1&t&&(d.Ub(0,"mat-option",16),d.xc(1),d.Tb()),2&t){const t=a.$implicit;d.kc("value",t.value),d.Db(1),d.yc(t.title)}}let w=(()=>{class t{constructor(t){this.store=t,this.states=Object(l.a)(l.b),this.lineChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,120,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(50,50,255,0.75)"}],this.deathChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,120,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(50,50,255,0.75)"}],this.hospitalChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(255,120,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(255,50,255,0.75)"}],this.infectionChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,255,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(120,120,120,0.75)"}],this.testChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,120,255,0.0)"},{borderColor:"green",backgroundColor:"rgba(50,50,0,0.75)"}]}ngOnInit(){this.$chartData=this.store.select(o.h),this.$deathData=this.store.select(o.e),this.$infectionData=this.store.select(o.g),this.$hospitalData=this.store.select(o.f),this.$testsData=this.store.select(o.i),this.$chartLabels=this.store.select(o.d),this.$startDate=this.store.select(o.o),this.$endDate=this.store.select(o.m),this.$chartTitle=this.store.select(o.c),this.maxDate=new Date(c.j.endDate),this.minDate=new Date(c.j.startDate),this.$loading=this.store.select(o.k)}endDateChanged(t){this.store.dispatch(h.f({ed:t}))}startDateChanged(t){this.store.dispatch(h.g({sd:t}))}nationStateValueChanged(t){this.store.dispatch(h.d({selection:t}))}}return t.\u0275fac=function(a){return new(a||t)(d.Ob(g.i))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-charting"]],decls:51,vars:85,consts:[[1,"data-date-range"],["id","startDate","matInput","","placeholder","Choose a date","readonly","",3,"value","min","max","matDatepicker","dateChange","click"],["startDate",""],["matSuffix","",3,"for"],[3,"startAt"],["startPicker",""],["id","endDate","matInput","","placeholder","Choose a date","readonly","",3,"value","min","max","matDatepicker","dateChange","click"],["endDate",""],["endPicker",""],["id","regionSelector","value","US",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"chart-row"],["id","infectionsChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],["id","deathChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],["id","testChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],["id","hospitalChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],[3,"value"]],template:function(t,a){if(1&t){const t=d.Vb();d.Ub(0,"div",0),d.Ub(1,"mat-form-field"),d.Ub(2,"mat-label"),d.xc(3,"Choose a start date"),d.Tb(),d.Ub(4,"input",1,2),d.bc("dateChange",function(){d.pc(t);const e=d.oc(5);return a.startDateChanged(e.value)})("click",function(){return d.pc(t),d.oc(9).open()}),d.fc(6,"ngrxPush"),d.Tb(),d.Pb(7,"mat-datepicker-toggle",3),d.Pb(8,"mat-datepicker",4,5),d.fc(10,"ngrxPush"),d.Tb(),d.Ub(11,"mat-form-field"),d.Ub(12,"mat-label"),d.xc(13,"Choose a end date"),d.Tb(),d.Ub(14,"input",6,7),d.bc("dateChange",function(){d.pc(t);const e=d.oc(15);return a.endDateChanged(e.value)})("click",function(){return d.pc(t),d.oc(19).open()}),d.fc(16,"ngrxPush"),d.Tb(),d.Pb(17,"mat-datepicker-toggle",3),d.Pb(18,"mat-datepicker",4,8),d.fc(20,"ngrxPush"),d.Tb(),d.Ub(21,"mat-form-field"),d.Ub(22,"mat-label"),d.xc(23,"State or National"),d.Tb(),d.Ub(24,"mat-select",9),d.bc("selectionChange",function(t){return a.nationStateValueChanged(t.value)}),d.wc(25,O,2,2,"mat-option",10),d.Tb(),d.Tb(),d.Tb(),d.Ub(26,"div",11),d.Pb(27,"app-chart-presentation",12),d.fc(28,"ngrxPush"),d.fc(29,"ngrxPush"),d.fc(30,"ngrxPush"),d.fc(31,"ngrxPush"),d.fc(32,"ngrxPush"),d.Pb(33,"app-chart-presentation",13),d.fc(34,"ngrxPush"),d.fc(35,"ngrxPush"),d.fc(36,"ngrxPush"),d.fc(37,"ngrxPush"),d.fc(38,"ngrxPush"),d.Pb(39,"app-chart-presentation",14),d.fc(40,"ngrxPush"),d.fc(41,"ngrxPush"),d.fc(42,"ngrxPush"),d.fc(43,"ngrxPush"),d.fc(44,"ngrxPush"),d.Pb(45,"app-chart-presentation",15),d.fc(46,"ngrxPush"),d.fc(47,"ngrxPush"),d.fc(48,"ngrxPush"),d.fc(49,"ngrxPush"),d.fc(50,"ngrxPush"),d.Tb()}if(2&t){const t=d.oc(9),e=d.oc(19);d.Db(4),d.kc("value",d.gc(6,37,a.$startDate))("min",a.minDate)("max",a.maxDate)("matDatepicker",t),d.Db(3),d.kc("for",t),d.Db(1),d.kc("startAt",d.gc(10,39,a.$startDate)),d.Db(6),d.kc("value",d.gc(16,41,a.$endDate))("min",a.minDate)("max",a.maxDate)("matDatepicker",e),d.Db(3),d.kc("for",e),d.Db(1),d.kc("startAt",d.gc(20,43,a.$endDate)),d.Db(7),d.kc("ngForOf",a.states),d.Db(2),d.kc("chartdata",d.gc(28,45,a.$infectionData))("chartLabels",d.gc(29,47,a.$chartLabels))("chartTitle","Infections")("lineChartColors",a.infectionChartColors)("loading",d.gc(30,49,a.$loading))("chartDataEmpty",d.gc(31,51,a.$infectionData)[0].empty&&d.gc(32,53,a.$infectionData)[1].empty),d.Db(6),d.kc("chartdata",d.gc(34,55,a.$deathData))("chartLabels",d.gc(35,57,a.$chartLabels))("chartTitle","Deaths")("lineChartColors",a.deathChartColors)("loading",d.gc(36,59,a.$loading))("chartDataEmpty",d.gc(37,61,a.$deathData)[0].empty&&d.gc(38,63,a.$deathData)[1].empty),d.Db(6),d.kc("chartdata",d.gc(40,65,a.$testsData))("chartLabels",d.gc(41,67,a.$chartLabels))("chartTitle","Tests")("lineChartColors",a.testChartColors)("loading",d.gc(42,69,a.$loading))("chartDataEmpty",d.gc(43,71,a.$testsData)[0].empty&&d.gc(44,73,a.$testsData)[1].empty),d.Db(6),d.kc("chartdata",d.gc(46,75,a.$hospitalData))("chartLabels",d.gc(47,77,a.$chartLabels))("chartTitle","Hospitalized")("lineChartColors",a.hospitalChartColors)("loading",d.gc(48,79,a.$loading))("chartDataEmpty",d.gc(49,81,a.$hospitalData)[0].empty&&d.gc(50,83,a.$hospitalData)[1].empty)}},directives:[b.c,b.f,p.b,u.b,u.d,b.g,u.a,C.a,r.k,v,P.j],pipes:[k.a],styles:[".data-date-range[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;flex-direction:column;padding-top:1rem;align-items:center;margin:64px auto auto}.data-date-range[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding-left:0;padding-right:0;width:90%}.chart-row[_ngcontent-%COMP%]{justify-content:space-around;margin-bottom:3rem}.chart-row[_ngcontent-%COMP%], .chart-row[_ngcontent-%COMP%]   app-chart-presentation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.chart-row[_ngcontent-%COMP%]   app-chart-presentation[_ngcontent-%COMP%]{width:95%;min-height:15rem;margin-top:1rem;position:relative}@media screen and (min-width:900px){.data-date-range[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}.data-date-range[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:30%;padding-left:.5rem}}@media screen and (min-width:1200px){.chart-row[_ngcontent-%COMP%]{flex-direction:row;align-items:stretch;flex-wrap:wrap}.chart-row[_ngcontent-%COMP%]   app-chart-presentation[_ngcontent-%COMP%]{width:45%}}"]}),t})();var T=e("IzEk"),$=e("vkgz"),L=e("LRne"),M=e("DH7j"),_=e("yCtX"),U=e("l7GE"),j=e("ZUHj");class A{call(t,a){return a.subscribe(new E(t))}}class E extends U.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,a=t.length;if(0===a)this.destination.complete();else{for(let e=0;e<a&&!this.hasFirst;e++){const a=t[e],r=Object(j.a)(this,a,void 0,e);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,a,e){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==e){let a=this.subscriptions[t];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(a)}}const I=[{path:"",component:w,canActivate:[s.a],resolve:[(()=>{class t{constructor(t,a){this.store=t,this.router=a}resolve(t){let a,e=!1;return this.store.select(o.j).pipe(Object(T.a)(1)).subscribe(t=>e=t),e?(this.store.select(o.l).pipe(Object(T.a)(1)).subscribe(t=>a=[...t]),h.c):(this.store.dispatch(h.b()),function(...t){if(1===t.length){if(!Object(M.a)(t[0]))return t[0];t=t[0]}return Object(_.a)(t,void 0).lift(new A)}(Object(L.a)(h.c),Object(L.a)(h.a).pipe(Object($.a)(()=>this.router.navigate([""])))).pipe(Object(T.a)(1)))}}return t.\u0275fac=function(a){return new(a||t)(d.Yb(g.i),d.Yb(i.f))},t.\u0275prov=d.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]}];let F=(()=>{class t{}return t.\u0275mod=d.Mb({type:t}),t.\u0275inj=d.Lb({factory:function(a){return new(a||t)},imports:[[i.i.forChild(I)],i.i]}),t})();var Q=e("7bNT"),N=e("N7LN"),z=e("s7LF"),S=e("pKmL");let V=(()=>{class t{}return t.\u0275mod=d.Mb({type:t}),t.\u0275inj=d.Lb({factory:function(a){return new(a||t)},imports:[[r.b,n.b,F,g.k.forFeature(o.a,o.b),Q.b.forFeature([N.a]),z.f,S.a]]}),t})()}}]);