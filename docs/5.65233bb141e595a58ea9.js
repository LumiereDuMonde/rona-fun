(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"A/5D":function(t,e,n){t.exports=function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=n(t),r=n(e),o=i.default.helpers,a=function(){if("undefined"!=typeof window)return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t)}}(),s={resolveOption:(t,e)=>o.valueOrDefault(t.options.realtime[e],t.chart.options.plugins.streaming[e]),startFrameRefreshTimer:function(t,e){if(!t.frameRequestID){var n=function(){e(),t.frameRequestID=o.requestAnimFrame.call(window,n)};t.frameRequestID=o.requestAnimFrame.call(window,n)}},stopFrameRefreshTimer:function(t){var e=t.frameRequestID;e&&(a.call(window,e),delete t.frameRequestID)}};function c(t,e,n){return null!=(i=e)&&("number"==typeof i?isFinite(i):i)?{value:t.getPixelForValue(e),transitionable:!0}:{value:n};var i}var d={attachChart(t){var e,n,r,o,a=t.streaming;a.annotationPlugin||(r=(e=i.default.Annotation.types.box).prototype.configure,o=(n=i.default.Annotation.types.line).prototype.configure,e.prototype.configure=function(){return s=(i=this.chartInstance).chartArea,u=(a=i.scales)[d=(o=this.options).xScaleID],p=a[l=o.yScaleID],h=this._streaming={},u&&(t=c(u,o.xMin,s.left),e=c(u,o.xMax,s.right),n=t.value>e.value,t.transitionable&&(h[n?"right":"left"]={axisId:d}),e.transitionable&&(h[n?"left":"right"]={axisId:d})),p&&(t=c(p,o.yMin,s.top),e=c(p,o.yMax,s.bottom),n=t.value>e.value,t.transitionable&&(h[n?"bottom":"top"]={axisId:l}),e.transitionable&&(h[n?"top":"bottom"]={axisId:l})),r.call(this);var t,e,n,i,o,a,s,d,l,u,p,h},n.prototype.configure=function(){return function(t){var e=t.options,n=e.scaleID,i=e.value,r=t.chartInstance.scales[n],o=t._streaming={};if(r){var a=r.isHorizontal();c(r,i).transitionable&&(o[a?"x1":"y1"]={axisId:n},o[a?"x2":"y2"]={axisId:n},o[a?"labelX":"labelY"]={axisId:n})}}(this),o.call(this)},a.annotationPlugin=!0)},getElements(t){var e=t.annotation;if(e){var n=e.elements;return Object.keys(n).map(function(t){return n[t]})}return[]},detachChart(t){delete t.streaming.annotationPlugin}},l=i.default.helpers,u=i.default.Zoom=i.default.Zoom||{};function p(t,e){if(t.scaleAxes&&t.rangeMax&&!l.isNullOrUndef(t.rangeMax[t.scaleAxes])){var n=t.rangeMax[t.scaleAxes];e>n&&(e=n)}return e}function h(t,e){if(t.scaleAxes&&t.rangeMin&&!l.isNullOrUndef(t.rangeMin[t.scaleAxes])){var n=t.rangeMin[t.scaleAxes];e<n&&(e=n)}return e}function m(t,e,n,i){var r,o,a=t.options.realtime,c=s.resolveOption(t,"duration"),d=s.resolveOption(t,"delay"),l=c*(2-e);r=t.isHorizontal()?(t.right-n.x)/(t.right-t.left):(t.bottom-n.y)/(t.bottom-t.top),o=e<1?p(i,l):h(i,l),a.duration=o,a.delay=d+r*(c-o)}function f(t,e,n){var i=t.options.realtime,r=s.resolveOption(t,"delay")+(t.getValueForPixel(e)-t.getValueForPixel(0));i.delay=e>0?p(n,r):h(n,r)}u.zoomFunctions=u.zoomFunctions||{},u.panFunctions=u.panFunctions||{};var b={attachChart(t){var e=t.streaming;e.zoomPlugin||(u.zoomFunctions.realtime=m,u.panFunctions.realtime=f,e.resetZoom=t.resetZoom,function(t){var e=t.$zoom||{_originalOptions:{}},n=t.resetZoom,i=t.update,r=function(){l.each(t.scales,function(t){var n=t.options.realtime,i=e._originalOptions[t.id]||t.originalOptions;n&&(i?(n.duration=i.realtime.duration,n.delay=i.realtime.delay):(delete n.duration,delete n.delay))}),i.call(t,{duration:0})};t.resetZoom=function(){t.update=r,n(),t.update=i}}(t),e.zoomPlugin=!0)},detachChart(t){var e=t.streaming;e.zoomPlugin&&(t.resetZoom=e.resetZoom,delete e.resetZoom,delete e.zoomPlugin)}},g=i.default.helpers,v=g.canvas,y=i.default.scaleService,O=y.getScaleConstructor("time");y.getScaleConstructor=function(t){return"time"===t&&(t="realtime"),this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0};var x=Number.MAX_SAFE_INTEGER||9007199254740991,k={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},C=Object.keys(k),j={parse:function(t,e){return"string"==typeof t&&"string"==typeof e?t=r.default(t,e):t instanceof r.default||(t=r.default(t)),t.isValid()?t.valueOf():null},add:function(t,e,n){return r.default(t).add(e,n).valueOf()},startOf:function(t,e,n){return t=r.default(t),"isoWeek"===e?t.isoWeekday(n).valueOf():t.startOf(e).valueOf()}};function w(t,e){if(g.isNullOrUndef(e))return null;var n=t.options.time,i=function(t,e){var n=t._adapter||j,i=t.options.time,r=i.parser,o=r||i.format,a=e;return"function"==typeof r&&(a=r(a)),("number"==typeof a||a instanceof Number)&&isFinite(a)||(a="string"==typeof o?n.parse(a,o):n.parse(a)),null!==a?+a:(r||"function"!=typeof o||("number"==typeof(a=o(e))||a instanceof Number)&&isFinite(a)||(a=n.parse(a)),a)}(t,t.getRightValue(e));return null===i||n.round&&(i=+(t._adapter||j).startOf(i,n.round)),i}function S(t,e,n,i){var r,o=t._adapter||j,a=t.options,s=a.time,c=s.unit||function(t,e,n,i){var r,o,a=C.length;for(r=C.indexOf(t);r<a-1;++r)if((o=k[C[r]]).common&&Math.ceil((n-e)/((o.steps?o.steps[o.steps.length-1]:x)*o.size))<=i)return C[r];return C[a-1]}(s.minUnit,e,n,i),d=function(t){for(var e=C.indexOf(t)+1,n=C.length;e<n;++e)if(k[C[e]].common)return C[e]}(c),l=g.valueOrDefault(s.stepSize,s.unitStepSize),u="week"===c&&s.isoWeekday,p=a.ticks.major.enabled,h=k[c],m=e,f=n,b=[];for(l||(l=function(t,e,n,i){var r,o,a,s=e-t,c=k[n],d=c.size,l=c.steps;if(!l)return Math.ceil(s/(i*d));for(r=0,o=l.length;r<o&&(a=l[r],!(Math.ceil(s/(d*a))<=i));++r);return a}(e,n,c,i)),u&&(m=+o.startOf(m,"isoWeek",u),f=+o.startOf(f,"isoWeek",u)),m=+o.startOf(m,u?"day":c),(f=+o.startOf(f,u?"day":c))<n&&(f=+o.add(f,1,c)),r=m,p&&d&&!u&&!s.round&&(r=+o.startOf(r,d),r=+o.add(r,~~((m-r)/(h.size*l))*l,c));r<f;r=+o.add(r,l,c))b.push(+r);return b.push(+r),b}var _=["pointBackgroundColor","pointBorderColor","pointBorderWidth","pointRadius","pointRotation","pointStyle","pointHitRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointHoverRadius","backgroundColor","borderColor","borderSkipped","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","radius","rotation"];function T(t){var e=t.realtime,n=e.refreshTimerID;n&&(clearInterval(n),delete e.refreshTimerID,delete e.refreshInterval)}function I(t){var e=t.realtime,n=s.resolveOption(t,"refresh");e.refreshTimerID=setInterval(function(){var n=s.resolveOption(t,"refresh");(function(t){var e,n,i,r,o,a,c,d=t.chart,l=t.id,u=s.resolveOption(t,"duration"),p=s.resolveOption(t,"delay"),h=s.resolveOption(t,"ttl"),m=s.resolveOption(t,"pause"),f=s.resolveOption(t,"onRefresh"),b=t.max,v=Date.now()-(isNaN(h)?u+p:h);f&&f(d),g.each(d.data.datasets,function(s,u){if(e=d.getDatasetMeta(u),l===e.xAxisID||l===e.yAxisID){if(i=(n=s.data).length,m){for(r=0;r<i&&t._getTimeForIndex(r,u)<b;++r);o=r+2}else o=0;for(r=o;r<i&&t._getTimeForIndex(r,u)<=v;++r);a=r-o,isNaN(h)&&(a=Math.max(a-2,0)),n.splice(o,a),g.each(_,function(t){g.isArray(s[t])&&s[t].splice(o,a)}),g.each(s.datalabels,function(t){g.isArray(t)&&t.splice(o,a)}),"object"!=typeof n[0]&&(c={start:o,count:a})}}),c&&d.data.labels.splice(c.start,c.count),d.update({preservation:!0})})(t),e.refreshInterval===n||isNaN(n)||(T(t),I(t))},n),e.refreshInterval=n}function D(t,e,n){var i=t._start||{},r=t._view||{},o=t._model||{};g.each(t._streaming,(t,a)=>{t.axisId===e&&(i.hasOwnProperty(a)&&(i[a]-=n),r.hasOwnProperty(a)&&r!==i&&(r[a]-=n),o.hasOwnProperty(a)&&o!==r&&(o[a]-=n))})}function N(t){var e,n,i=t.chart,r=t.realtime,o=t.id,a=s.resolveOption(t,"duration"),c=s.resolveOption(t,"delay"),l=t.isHorizontal(),u=l?t.width:t.height,p=Date.now(),h=t.options.ticks.reverse||!(l||"_reversePixels"in t),m=i.tooltip,f=d.getElements(i),b=u*(p-r.head)/a;for(l===h&&(b=-b),g.each(i.data.datasets,function(t,r){var a=i.getDatasetMeta(r),s=a.data||[],c=a.dataset;for(e=0,n=s.length;e<n;++e)D(s[e],o,b);c&&D(c,o,b)}),e=0,n=f.length;e<n;++e)D(f[e],o,b);D(m,o,b),t.max=t._table[1].time=p-c,t.min=t._table[0].time=t.max-a,r.head=p}var E=O.extend({initialize:function(){var t=this;O.prototype.initialize.apply(t,arguments),("time"!==t.options.type||t.chart.options.plugins.streaming)&&(t.realtime=t.realtime||{},I(t))},update:function(){var t,e=this,n=e.realtime,i=e.options,r=i.bounds,o=i.distribution,a=i.offset,c=i.ticks,d=c.autoSkip,l=c.source,u=c.min,p=c.max,h=c.major,m=h.enabled;return"time"!==i.type||e.chart.options.plugins.streaming?(s.resolveOption(e,"pause")?s.stopFrameRefreshTimer(n):(s.startFrameRefreshTimer(n,function(){N(e)}),n.head=Date.now()),i.bounds=void 0,i.distribution="linear",i.offset=!1,c.autoSkip=!1,c.source="auto"===l?"":l,c.min=-1e15,c.max=1e15,h.enabled=!0,t=O.prototype.update.apply(e,arguments),i.bounds=r,i.distribution=o,i.offset=a,c.autoSkip=d,c.source=l,c.min=u,c.max=p,h.enabled=m,t):O.prototype.update.apply(e,arguments)},buildTicks:function(){var t=this,e=t.options;if("time"===e.type&&!t.chart.options.plugins.streaming)return O.prototype.buildTicks.apply(t,arguments);var n,i=s.resolveOption(t,"duration"),r=s.resolveOption(t,"delay"),o=s.resolveOption(t,"refresh"),a=e.ticks,c=a.source,d=t._timestamps.data,l=t.realtime.head-r,u=l-i,p=[l+o,l];return""===c&&(a.source="data",t._timestamps.data=S(t,u,l+o,t.getLabelCapacity(u))),Object.defineProperty(t,"min",{get:function(){return u},set:g.noop}),Object.defineProperty(t,"max",{get:function(){return p.shift()},set:g.noop}),n=O.prototype.buildTicks.apply(t,arguments),delete t.min,delete t.max,t.min=u,t.max=l,""===c&&(a.source=c,t._timestamps.data=d),t._table=[{time:u,pos:0},{time:l,pos:1}],n},calculateTickRotation:function(){var t=this,e=t.options,n=e.ticks,i=n.maxRotation;"time"!==e.type||t.chart.options.plugins.streaming?(n.maxRotation=n.minRotation||0,O.prototype.calculateTickRotation.apply(t,arguments),n.maxRotation=i):O.prototype.calculateTickRotation.apply(t,arguments)},fit:function(){var t=this,e=t.options;O.prototype.fit.apply(t,arguments),("time"!==e.type||t.chart.options.plugins.streaming)&&e.ticks.display&&e.display&&t.isHorizontal()&&(t.paddingLeft=3,t.paddingRight=3,t.handleMargins())},draw:function(t){var e=this,n=e.chart;if("time"!==e.options.type||n.options.plugins.streaming){var i=e.ctx,r=e.isHorizontal()?{left:t.left,top:0,right:t.right,bottom:n.height}:{left:0,top:t.top,right:n.width,bottom:t.bottom};e._gridLineItems=null,e._labelItems=null,v.clipArea(i,r),O.prototype.draw.apply(e,arguments),v.unclipArea(i)}else O.prototype.draw.apply(e,arguments)},destroy:function(){var t=this;("time"!==t.options.type||t.chart.options.plugins.streaming)&&(s.stopFrameRefreshTimer(t.realtime),T(t))},_getTimeForIndex:function(t,e){var n,i=this,r=i._timestamps,o=r.datasets[e][t];return g.isNullOrUndef(o)&&(o=g.isObject(n=i.chart.data.datasets[e].data[t])?w(i,n):w(i,r.labels[t])),o}});y.registerScaleType("realtime",E,{position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},realtime:{},ticks:{autoSkip:!1,source:"auto",major:{enabled:!0}}});var M=i.default.helpers,P=M.canvas;function B(t,e,n){var i={};return M.each(e.x,function(t){i[t]={axisId:n.xAxisID}}),M.each(e.y,function(t){i[t]={axisId:n.yAxisID}}),i}i.default.defaults.global.plugins.streaming={duration:1e4,delay:0,frameRate:30,refresh:1e3,onRefresh:null,pause:!1,ttl:void 0},i.default.defaults.global.legend.onClick=function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update({duration:0})};var A={x:["x","controlPointPreviousX","controlPointNextX","caretX"],y:["y","controlPointPreviousY","controlPointNextY","caretY"]};function R(t){var e,n,r,o,a,s,c=this,d=t&&t.preservation;d&&(n=c.lastActive,r=(e=c.tooltip)._lastActive,c._bufferedRender=!0,(a=c.legend)&&(s=a.update,a.update=M.noop)),i.default.prototype.update.apply(c,arguments),d&&(c._bufferedRender=!1,c._bufferedRequest=null,c.lastActive=n,e._lastActive=r,a&&(a.update=s),c.animating?i.default.animationService.animations.forEach(function(t){t.chart===c&&c.render({duration:16.66*(t.numSteps-t.currentStep)})}):c.data.datasets.forEach(function(t,e){c.getDatasetMeta(e).controller.transition(1)}),e._active&&e.update(!0),(o=c.streaming.lastMouseEvent)&&c.eventHandler(o))}function F(){var t,e=this,n=e._active&&e._active[0];return n?(t=e._chart.getDatasetMeta(n._datasetIndex),e._streaming=B(0,A,t)):e._streaming={},i.default.Tooltip.prototype.update.apply(e,arguments)}var $={id:"streaming",beforeInit:function(t){var e=t.streaming=t.streaming||{},n=e.canvas=t.canvas,i=e.mouseEventListener=function(n){var i=M.getRelativePosition(n,t);e.lastMouseEvent={type:"mousemove",chart:t,native:n,x:i.x,y:i.y}};n.addEventListener("mousedown",i),n.addEventListener("mouseup",i)},afterInit:function(t){t.update=R,t.tooltip.update=F},beforeUpdate:function(t){var e=t.options,n=e.scales;return n&&M.each(n.xAxes.concat(n.yAxes),function(t){"realtime"!==t.type&&"time"!==t.type||(e.elements.line.capBezierPoints=!1)}),t.annotation?d.attachChart(t):d.detachChart(t),t.resetZoom?b.attachChart(t):b.detachChart(t),!0},afterUpdate:function(t){var e=t.streaming,n=!0;(function(t){M.each(t.data.datasets,function(e,n){var i,r,o=t.getDatasetMeta(n),a=o.data||[],s=o.dataset;for(i=0,r=a.length;i<r;++i)a[i]._streaming=B(0,A,o);s&&(s._streaming=B(0,A,o))})})(t),M.each(t.scales,function(t){t instanceof E&&(n&=s.resolveOption(t,"pause"))}),n?s.stopFrameRefreshTimer(e):s.startFrameRefreshTimer(e,function(){!function(t){var e=t.streaming,n=1e3/(Math.max(t.options.plugins.streaming.frameRate,0)||30),i=e.lastDrawn+n||0,r=Date.now(),o=e.lastMouseEvent;i<=r&&(t.animating||t.tooltip._start||t.draw(),o&&t.eventHandler(o),e.lastDrawn=i+n>r?i:r)}(t)})},beforeDatasetDraw:function(t,e){var n=e.meta,i=t.chartArea,r={left:0,top:0,right:t.width,bottom:t.height};return n.xAxisID&&n.controller.getScaleForId(n.xAxisID)instanceof E&&(r.left=i.left,r.right=i.right),n.yAxisID&&n.controller.getScaleForId(n.yAxisID)instanceof E&&(r.top=i.top,r.bottom=i.bottom),P.clipArea(t.ctx,r),!0},afterDatasetDraw:function(t){P.unclipArea(t.ctx)},beforeEvent:function(t,e){var n=t.streaming;return"mousemove"===e.type?n.lastMouseEvent=e:"mouseout"===e.type&&delete n.lastMouseEvent,!0},destroy:function(t){var e=t.streaming,n=e.canvas,i=e.mouseEventListener;s.stopFrameRefreshTimer(e),delete t.update,delete t.tooltip.update,n.removeEventListener("mousedown",i),n.removeEventListener("mouseup",i),M.each(t.scales,function(t){t instanceof E&&t.destroy()})}};return i.default.helpers.streaming=s,i.default.plugins.register($),$}(n("MO+k"),n("wd/R"))},D8XL:function(t,e,n){"use strict";n.r(e),n.d(e,"TradingModule",function(){return Rt});var i=n("ofXK"),r=n("tyNb"),o=n("P+IX"),a=n("fXoL"),s=n("tqRt");const c=Object(s.p)("[Trading-Trade] Trading starting"),d=Object(s.p)("[Trading-Trade] Trading started"),l=Object(s.p)("[Trading-Trade] Trade payload",Object(s.v)()),u=Object(s.p)("[Trading-Trade] Trading ending"),p=Object(s.p)("[Trading-Trade] Trading ended");Object(s.p)("[Trading-Trade] Trading Error",Object(s.v)());var h=function(t){return t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED",t[t.DISCONNECTING=3]="DISCONNECTING",t}({});const m={connected:h.DISCONNECTED,trades:[],lastTrade:[]},f=Object(s.r)(m,Object(s.u)(c,t=>Object.assign(Object.assign({},t),{connected:h.CONNECTING,trades:m.trades,lastTrade:m.lastTrade})),Object(s.u)(d,t=>Object.assign(Object.assign({},t),{connected:h.CONNECTED})),Object(s.u)(p,t=>Object.assign(Object.assign({},t),{connected:h.DISCONNECTED,trades:m.trades,lastTrade:m.lastTrade})),Object(s.u)(u,t=>Object.assign(Object.assign({},t),{connected:h.DISCONNECTING})),Object(s.u)(l,(t,e)=>t.connected==h.CONNECTED?Object.assign(Object.assign({},t),{lastTrade:[...e.trades],trades:[...t.trades,...e.trades]}):Object.assign({},t)));function b(t,e){return f(t,e)}const g=Object(s.p)("[Trading-Book] Book starting"),v=Object(s.p)("[Trading-Book] Book started"),y=Object(s.p)("[Trading-Book] Book snapshot",Object(s.v)()),O=Object(s.p)("[Trading-Book] Book update",Object(s.v)()),x=Object(s.p)("[Trading-Book] Book ending"),k=Object(s.p)("[Trading-Book] Book ended");Object(s.p)("[Trading-Book] Book Error",Object(s.v)());var C=function(t){return t[t.price=0]="price",t[t.volume=1]="volume",t[t.timestamp=2]="timestamp",t}({});const j=Array.from({length:10},t=>new Array(3).fill(0)),w={connected:h.DISCONNECTED,bid:j,ask:j,error:""};function S(t,e,n=!1,i=10){if(!e)return t;let r=[...t];return n&&r.reverse(),e.forEach(t=>{let e=[...t.map(t=>+t)];e.length>3&&e.pop();const i=+t[C.price],o=+t[C.volume];if(t.length>3)n?r.unshift(e):r.push(e);else{const t=r.findIndex(t=>i<=t[C.price]);-1===t?r.push(e):0===o?r.splice(t,1):r.splice(t,r[t][C.price]===i?1:0,e)}}),n&&r.reverse(),r=r.slice(0,i),r}const _=Object(s.r)(w,Object(s.u)(g,t=>Object.assign(Object.assign({},t),{connected:h.CONNECTING})),Object(s.u)(v,t=>Object.assign(Object.assign({},t),{connected:h.CONNECTED})),Object(s.u)(k,t=>Object.assign(Object.assign({},t),{connected:h.DISCONNECTED})),Object(s.u)(x,t=>Object.assign(Object.assign({},t),{connected:h.DISCONNECTING})),Object(s.u)(y,(t,e)=>Object.assign(Object.assign({},t),{bid:[...e.book.bs.map(t=>t.map(t=>+t))],ask:[...e.book.as.map(t=>t.map(t=>+t))]})),Object(s.u)(O,(t,e)=>Object.assign(Object.assign({},t),{bid:S(t.bid,e.book.b,!0),ask:S(t.ask,e.book.a)})));function T(t,e){return _(t,e)}const I="trading";function D(t,e){return Object(s.n)({trades:b,book:T})(t,e)}const N=Object(s.q)(I),E=Object(s.s)(N,t=>t.trades),M=(Object(s.s)(E,t=>t.connected),Object(s.s)(E,t=>t.trades),Object(s.s)(E,t=>t.lastTrade)),P=Object(s.s)(N,t=>t.book),B=(Object(s.s)(P,t=>t.connected),Object(s.s)(P,t=>t.ask)),A=Object(s.s)(P,t=>t.bid);n("A/5D");var R=n("vkgz"),F=n("LPYB");const $=["tradeChart"];function z(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"div",1),a["\u0275\u0275element"](1,"canvas",2,3),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("chartType","line")("datasets",t.datasets)("options",t.lineChartOptions)}}let W=(()=>{class t{constructor(){this.lastTrade=[],this.datasets=[{label:"Bitcoin ($)",fill:!1,backgroundColor:"rgba(0, 0, 0)",borderColor:"rgba(255,243,222)",data:[],lineTension:0,yAxisID:"left-axis"},{label:"Volume",data:[],type:"bar",yAxisID:"right-axis",barThickness:3}],this.lineChartOptions={responsive:!0,title:{display:!1,text:""},scales:{xAxes:[{type:"realtime",realtime:{duration:6e4,refresh:200,delay:100,pause:!1,ttl:12e4},gridLines:{color:"rgb(200,200,200,0.5)",display:!0}}],yAxes:[{type:"linear",position:"left",display:!0,id:"left-axis",gridLines:{color:"rgb(200,200,200,0.5)",display:!0}},{type:"linear",id:"right-axis",position:"right",stacked:!1,display:!0,gridLines:{drawOnChartArea:!1},ticks:{min:0}}]},elements:{point:{radius:3,hitRadius:4}}}}set trades(t){this.trades$=t.pipe(Object(R.a)(t=>{var e;t&&(this.lastTrade=[...t],t.forEach((t,e)=>{this.datasets[0].data.push({x:1e3*+t.time,y:+t.price}),0===e?this.datasets[1].data.push({x:1e3*+t.time,y:+t.volume}):this.datasets[1].data[this.datasets[1].data.length-1].y+=+t.volume}),null===(e=this.tradeChart)||void 0===e||e.update("none"))}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-trade-chart"]],viewQuery:function(t,e){if(1&t&&a["\u0275\u0275viewQuery"]($,1),2&t){let t;a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.tradeChart=t.first)}},inputs:{trades:"trades"},decls:2,vars:3,consts:[["class","trading-chart",4,"ngIf"],[1,"trading-chart"],["baseChart","","id","tradeChart",3,"chartType","datasets","options"],["tradeChart","base-chart"]],template:function(t,e){1&t&&(a["\u0275\u0275template"](0,z,3,3,"div",0),a["\u0275\u0275pipe"](1,"async")),2&t&&a["\u0275\u0275property"]("ngIf",a["\u0275\u0275pipeBind1"](1,1,e.trades$))},directives:[i.n,F.a],pipes:[i.b],styles:[".trading-chart[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;top:0;left:0}"],changeDetection:0}),t})(),Y=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.store.dispatch(c()),this.lastTrade$=this.store.select(M)}ngOnDestroy(){this.store.dispatch(u())}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](s.i))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-trade-chart-container"]],decls:1,vars:1,consts:[[3,"trades"]],template:function(t,e){1&t&&a["\u0275\u0275element"](0,"app-trade-chart",0),2&t&&a["\u0275\u0275property"]("trades",e.lastTrade$)},directives:[W],styles:["app-trade-chart[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),t})();var H=n("gcYM"),L=n("+0xr");function U(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",8),a["\u0275\u0275text"](1," $ "),a["\u0275\u0275elementEnd"]())}function q(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",9),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t[0],"1.2-5")," ")}}function X(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",8),a["\u0275\u0275text"](1," # "),a["\u0275\u0275elementEnd"]())}function Z(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",9),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t[1],"1.5-5")," ")}}function G(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",8),a["\u0275\u0275text"](1," Date/Time "),a["\u0275\u0275elementEnd"]())}function V(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",9),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,1e3*t[2],"mediumTime")," ")}}function J(t,e){1&t&&a["\u0275\u0275element"](0,"tr",10)}function Q(t,e){1&t&&a["\u0275\u0275element"](0,"tr",11)}let K=(()=>{class t{constructor(){this.orderBook=[][3],this.isBid=!1,this.displayedColumns=["price","volume","date"]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-order-book"]],inputs:{orderBook:"orderBook",isBid:"isBid"},decls:14,vars:6,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","price"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","volume"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h4"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"table",0),a["\u0275\u0275elementContainerStart"](3,1),a["\u0275\u0275template"](4,U,2,0,"th",2),a["\u0275\u0275template"](5,q,3,4,"td",3),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](6,4),a["\u0275\u0275template"](7,X,2,0,"th",2),a["\u0275\u0275template"](8,Z,3,4,"td",3),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](9,5),a["\u0275\u0275template"](10,G,2,0,"th",2),a["\u0275\u0275template"](11,V,3,4,"td",3),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275template"](12,J,1,0,"tr",6),a["\u0275\u0275template"](13,Q,1,0,"tr",7),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](e.isBid?"Buy":"Sell"),a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("bid-group",e.isBid),a["\u0275\u0275property"]("dataSource",e.orderBook),a["\u0275\u0275advance"](10),a["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns))},directives:[L.j,L.c,L.e,L.b,L.g,L.i,L.d,L.a,L.f,L.h],pipes:[i.f,i.e],styles:[".mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding:0 .2rem;text-align:center}.mat-header-cell[_ngcontent-%COMP%]{color:wheat}.mat-cell[_ngcontent-%COMP%]{color:red}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:wheat}.bid-group[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{color:#0f0}h4[_ngcontent-%COMP%]{text-align:center;color:wheat;margin:1rem .2rem .2rem}@media screen and (min-width:1200px){h4[_ngcontent-%COMP%]{margin-top:2rem}}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding:0 .5rem}tr.mat-header-row[_ngcontent-%COMP%], tr.mat-row[_ngcontent-%COMP%]{height:1.5rem}table[_ngcontent-%COMP%]{font-family:Inconsolata,monospace;background:transparent;border-color:wheat;width:100%;min-width:220px}"],changeDetection:0}),t})(),tt=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.askBook$=this.store.select(B).pipe(Object(H.a)(100)),this.bidBook$=this.store.select(A).pipe(Object(H.a)(100)),this.store.dispatch(g())}ngOnDestroy(){this.store.dispatch(x())}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](s.i))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-order-book-container"]],decls:2,vars:4,consts:[[3,"isBid","orderBook"]],template:function(t,e){1&t&&(a["\u0275\u0275element"](0,"app-order-book",0),a["\u0275\u0275element"](1,"app-order-book",0)),2&t&&(a["\u0275\u0275property"]("isBid",!0)("orderBook",e.bidBook$),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("isBid",!1)("orderBook",e.askBook$))},directives:[K],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}app-order-book[_ngcontent-%COMP%]{padding:0 1rem}@media screen and (min-width:1200px){[_nghost-%COMP%]{flex-direction:row}}"],changeDetection:0}),t})();const et=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-trading"]],decls:3,vars:0,consts:[[1,"trading-section"]],template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"section",0),a["\u0275\u0275element"](1,"app-trade-chart-container"),a["\u0275\u0275element"](2,"app-order-book-container"),a["\u0275\u0275elementEnd"]())},directives:[Y,tt],styles:["[_nghost-%COMP%]{background:linear-gradient(90deg,rgba(2,0,36,.95),rgba(0,0,0,.7) 90%),url(dollardollarbillsyo.7a96ad9dbae20a92f183.jpg) 50%/cover no-repeat;display:flex;justify-content:stretch;width:100%;flex-direction:column;min-height:100%;padding-bottom:1rem}.trading-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.trading-section[_ngcontent-%COMP%]   app-trade-chart-container[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:column;align-items:center;margin-top:1rem;position:relative}@media screen and (min-width:900px){.trading-section[_ngcontent-%COMP%]{margin-top:64px}}@media screen and (min-width:1200px){[_nghost-%COMP%]{height:100%}.trading-section[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;flex-wrap:wrap;justify-content:center}.trading-section[_ngcontent-%COMP%]   app-trade-chart-container[_ngcontent-%COMP%]{width:45%}.trading-section[_ngcontent-%COMP%]   app-order-book-container[_ngcontent-%COMP%]{padding-left:1rem}}"],changeDetection:0}),t})(),canActivate:[o.a]}];let nt=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[r.j.forChild(et)],r.j]}),t})();var it=n("7bNT");const rt=Object(s.p)("[Trading Traffic] new traffic",Object(s.v)()),ot=Object(s.p)("[Trading Traffic] Traffic Cop unhandled traffic",Object(s.v)());var at=n("2Vo4"),st=n("EY2u"),ct=n("PqYM"),dt=n("eIep"),lt=n("SpAZ"),ut=n("JIr8"),pt=n("XNiG"),ht=n("zx2A");class mt{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new ft(t,this.notifier,this.source))}}class ft extends ht.b{constructor(t,e,n){super(t),this.notifier=e,this.source=n}error(t){if(!this.isStopped){let n=this.errors,i=this.retries,r=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new pt.b;try{const{notifier:t}=this;i=t(n)}catch(e){return super.error(e)}r=Object(ht.c)(i,new ht.a(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=r,n.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}var bt=n("7o/Q"),gt=n("HDdC"),vt=n("l7GE"),yt=n("ZUHj");class Ot{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new xt(t,this.delayDurationSelector))}}class xt extends vt.a{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,n,i,r){this.destination.next(t),this.removeSubscription(r),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(n){this.destination.error(n)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const n=Object(yt.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}var kt=n("AytR"),Ct=n("quSY"),jt=n("jtHE");const wt={url:"",deserializer:t=>JSON.parse(t.data),serializer:t=>JSON.stringify(t)};class St extends pt.a{constructor(t,e){if(super(),t instanceof gt.a)this.destination=e,this.source=t;else{const e=this._config=Object.assign({},wt);if(this._output=new pt.b,"string"==typeof t)e.url=t;else for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);if(!e.WebSocketCtor&&WebSocket)e.WebSocketCtor=WebSocket;else if(!e.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new jt.a}}lift(t){const e=new St(this._config,this.destination);return e.operator=t,e.source=this,e}_resetState(){this._socket=null,this.source||(this.destination=new jt.a),this._output=new pt.b}multiplex(t,e,n){const i=this;return new gt.a(r=>{try{i.next(t())}catch(a){r.error(a)}const o=i.subscribe(t=>{try{n(t)&&r.next(t)}catch(a){r.error(a)}},t=>r.error(t),()=>r.complete());return()=>{try{i.next(e())}catch(a){r.error(a)}o.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:t,protocol:e,url:n,binaryType:i}=this._config,r=this._output;let o=null;try{o=e?new t(n,e):new t(n),this._socket=o,i&&(this._socket.binaryType=i)}catch(s){return void r.error(s)}const a=new Ct.a(()=>{this._socket=null,o&&1===o.readyState&&o.close()});o.onopen=t=>{const{_socket:e}=this;if(!e)return o.close(),void this._resetState();const{openObserver:n}=this._config;n&&n.next(t);const i=this.destination;this.destination=bt.a.create(e=>{if(1===o.readyState)try{const{serializer:t}=this._config;o.send(t(e))}catch(t){this.destination.error(t)}},t=>{const{closingObserver:e}=this._config;e&&e.next(void 0),t&&t.code?o.close(t.code,t.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:t}=this._config;t&&t.next(void 0),o.close(),this._resetState()}),i&&i instanceof jt.a&&a.add(i.subscribe(this.destination))},o.onerror=t=>{this._resetState(),r.error(t)},o.onclose=t=>{this._resetState();const{closeObserver:e}=this._config;e&&e.next(t),t.wasClean?r.complete():r.error(t)},o.onmessage=t=>{try{const{deserializer:e}=this._config;r.next(e(t))}catch(e){r.error(e)}}}_subscribe(t){const{source:e}=this;return e?e.subscribe(t):(this._socket||this._connectSocket(),this._output.subscribe(t),t.add(()=>{const{_socket:t}=this;0===this._output.observers.length&&(t&&1===t.readyState&&t.close(),this._resetState())}),t)}unsubscribe(){const{_socket:t}=this;t&&1===t.readyState&&t.close(),this._resetState(),super.unsubscribe()}}const _t=kt.a.BITCOIN_WEBSOCKET_URL,Tt=kt.a.BITCOIN_RECONNECT_INTERVAL;let It=(()=>{class t{constructor(t){this.store=t,this.messagesSubject$=new at.a(null),this.messages$=this.messagesSubject$.pipe(Object(dt.a)(lt.a),Object(R.a)(t=>this.store.dispatch(rt({data:t}))),Object(ut.a)(t=>{throw t})),this.subscription=null,this.bookStarted=!1,this.tradeStarted=!1}connect(t={reconnect:!1}){if(!this.socket$||this.socket$.closed){this.socket$=this.getNewWebSocket();const e=this.socket$.pipe(t.reconnect?this.reconnect:t=>t,Object(R.a)({error:t=>console.log(t)}),Object(ut.a)(t=>st.a));this.messagesSubject$.next(e)}}reconnect(t){return t.pipe((e=t=>{return t.pipe(Object(R.a)(t=>console.log("[TradingService] Try to reconnect",t)),(e=t=>Object(ct.a)(Tt),t=>t.lift(new Ot(e))));var e},t=>t.lift(new mt(e,t))));var e}close(){var t,e;null===(t=this.socket$)||void 0===t||t.complete(),this.socket$=void 0,null===(e=this.subscription)||void 0===e||e.unsubscribe(),this.subscription=null}sendMessage(t){this.socket$.next(t)}getNewWebSocket(){return new St({url:_t,openObserver:{next:()=>{}},closeObserver:{next:()=>{var t;null===(t=this.socket$)||void 0===t||t.complete(),this.socket$=void 0,this.tradeStarted=!1,this.bookStarted=!1,this.store.dispatch(p()),this.store.dispatch(k())}}})}startTradeFeed(){this.tradeStarted=!0,this.connect(),this.checkSubscription(),this.sendMessage({event:"subscribe",pair:["XBT/USD"],subscription:{name:"trade"}})}checkSubscription(){this.subscription||(this.subscription=this.messages$.subscribe())}stopTradeFeed(){this.sendMessage({event:"unsubscribe",pair:["XBT/USD"],subscription:{name:"trade"}}),this.tradeStarted=!1,this.bookStarted||this.tradeStarted||this.close()}startBookFeed(){this.bookStarted=!0,this.connect(),this.checkSubscription(),this.sendMessage({event:"subscribe",pair:["XBT/USD"],subscription:{name:"book"}})}stopBookFeed(){this.sendMessage({event:"unsubscribe",pair:["XBT/USD"],subscription:{name:"book"}}),this.bookStarted=!1,this.bookStarted||this.tradeStarted||this.close()}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](s.i))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Dt=(()=>{class t{constructor(t,e){this.actions$=t,this.service=e,this.connectTrade$=Object(it.d)(()=>this.actions$.pipe(Object(it.e)(c),Object(R.a)(()=>this.service.startTradeFeed())),{dispatch:!1}),this.disconnectTrade$=Object(it.d)(()=>this.actions$.pipe(Object(it.e)(u),Object(R.a)(()=>this.service.stopTradeFeed())),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](it.a),a["\u0275\u0275inject"](It))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Nt=function(t){return t.Book="book-10",t.Trade="trade",t}({}),Et=function(t){return t.Ping="ping",t.Pong="pong",t.Heartbeat="heartbeat",t.SystemStatus="systemStatus",t.Subscribe="subscribed",t.Unsubscribe="unsubscribed",t.SubscriptionStatus="subscriptionStatus",t}({}),Mt=n("lJxs");let Pt=(()=>{class t{constructor(t){this.actions$=t,this.trafficCopEffect$=Object(it.d)(()=>this.actions$.pipe(Object(it.e)(rt),Object(Mt.a)(t=>{if(!this.checkIfPayloadOrEvent(t.data))return this.processEventAction(t.data);{const e=t.data.length;if(e>2)switch(t.data[e-2]){case Nt.Trade:return this.setTradeAction(t.data[1]);case Nt.Book:return this.setBookAction(t.data)}}return ot({data:t.data})})))}checkIfPayloadOrEvent(t){return Array.isArray(t)}setTradeAction(t){const e=t.map(t=>({price:t[0],volume:t[1],time:t[2],side:t[3],orderType:t[4],misc:t[5]}));return l({trades:e})}setBookAction(t){const e=t[1];return(null==e?void 0:e.as)&&(null==e?void 0:e.bs)?y({book:e}):(null==e?void 0:e.a)||(null==e?void 0:e.b)?O({book:e}):ot({data:t})}processEventAction(t){var e,n,i,r;if(null==t?void 0:t.event)switch(t.event){case Et.SubscriptionStatus:if((null==t?void 0:t.status)==Et.Subscribe){if((null===(e=null==t?void 0:t.subscription)||void 0===e?void 0:e.name)==Nt.Trade)return d();if((null===(n=null==t?void 0:t.subscription)||void 0===n?void 0:n.name)==Nt.Book)return v()}else if((null==t?void 0:t.status)==Et.Unsubscribe){if((null===(i=null==t?void 0:t.subscription)||void 0===i?void 0:i.name)==Nt.Trade)return p();if((null===(r=null==t?void 0:t.subscription)||void 0===r?void 0:r.name)==Nt.Book)return k()}}return ot({data:t})}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](it.a))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Bt=n("pKmL");let At=(()=>{class t{constructor(t,e){this.actions$=t,this.service=e,this.connectBook$=Object(it.d)(()=>this.actions$.pipe(Object(it.e)(g),Object(R.a)(()=>this.service.startBookFeed())),{dispatch:!1}),this.disconnectBook$=Object(it.d)(()=>this.actions$.pipe(Object(it.e)(x),Object(R.a)(()=>this.service.stopBookFeed())),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](it.a),a["\u0275\u0275inject"](It))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Rt=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.c,nt,s.k.forFeature(I,D),it.b.forFeature([Pt,Dt,At]),Bt.a,F.b]]}),t})()}}]);