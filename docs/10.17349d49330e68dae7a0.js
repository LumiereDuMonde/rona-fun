(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"7zg2":function(t,e,n){"use strict";n.r(e),n.d(e,"RandomModule",function(){return N});var i=n("ofXK"),s=n("tyNb"),r=n("fXoL"),o=n("xgIS"),a=n("XNiG"),c=n("VRyK"),u=n("zx2A");class m{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new l(t,this.notifier))}}class l extends u.b{constructor(t,e){super(t),this.hasValue=!1;const n=new u.a(this);this.add(n),this.innerSubscription=n;const i=Object(u.c)(e,n);i!==n&&(this.add(i),this.innerSubscription=i)}_next(t){this.hasValue&&super._next(t)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}var p=n("1G5W"),h=n("7o/Q"),d=n("EY2u");class b{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new f(t,this.count,this.source))}}class f extends h.a{constructor(t,e,n){super(t),this.count=e,this.source=n}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}var y=n("gcYM"),v=n("D0XW"),g=n("lJxs");class w{constructor(t,e){this.value=t,this.timestamp=e}}var $=n("Kqap"),x=n("R0Ic"),j=function(t){return t[t.X=0]="X",t[t.Y=1]="Y",t}({});let O=(()=>{class t{constructor(t,e){this.builder=t,this.el=e,this.startPosition={x:0,y:0,timestamp:0},this.dynamicAnimationDone=new r.EventEmitter}randomNumber(t=0,e=255){return Math.random()*(e-t)+t}generateRGB(){return`rgb(${this.randomNumber()},${this.randomNumber()},${this.randomNumber()})`}generateScale(){return`scale(${this.randomNumber(.5,4)})`}randomNumberFromStartPos(t,e,n=j.X){const i=n===j.X?this.startPosition.x:this.startPosition.y;return this.randomNumber(t,e)+i}generateTranslate(){return`translate(${this.randomNumber(-400,400)}px,${this.randomNumber(-400,400)}px)`}generateTranslateWithScale(){return this.generateTranslate()+" "+this.generateScale()}playAnimation(t){const e=this.builder.build(t).create(this.el.nativeElement);e.onDone(()=>{this.dynamicAnimationDone.emit()}),e.play()}getMouseAnimation(){return[Object(x.e)("4000ms linear",Object(x.j)({opacity:.4,background:this.generateRGB(),transform:this.generateTranslateWithScale()}))]}ngAfterViewInit(){this.el.nativeElement.style.setProperty("position","fixed"),this.el.nativeElement.style.setProperty("top",`${this.startPosition.y}px`),this.el.nativeElement.style.setProperty("left",`${this.startPosition.x}px`),this.el.nativeElement.style.setProperty("background",`${this.generateRGB()}`),this.playAnimation(this.getMouseAnimation())}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](x.b),r["\u0275\u0275directiveInject"](r.ElementRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","appDynamicAnimate",""]],inputs:{startPosition:"startPosition"},outputs:{dynamicAnimationDone:"dynamicAnimationDone"}}),t})();function P(t,e){if(1&t){const t=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275elementStart"](1,"div",2),r["\u0275\u0275listener"]("dynamicAnimationDone",function(){r["\u0275\u0275restoreView"](t);const n=e.$implicit;return r["\u0275\u0275nextContext"]().destroyItem(n)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("startPosition",t)}}let S=(()=>{class t{constructor(){var t;this.mouseDown$=Object(o.a)(document,"mousedown"),this.mouseMove$=Object(o.a)(document,"mousemove"),this.mouseUp$=Object(o.a)(document,"mouseup"),this.mousePath$=this.mouseMove$.pipe((t=this.mouseDown$,e=>e.lift(new m(t))),Object(p.a)(this.mouseUp$),function(t=-1){return e=>0===t?Object(d.b)():e.lift(new b(t<0?-1:t-1,e))}()),this.bubbleEnd$=new a.b,this.bubbleStart$=this.mouseMove$.pipe(Object(y.a)(20),function(t=v.a){return Object(g.a)(e=>new w(e,t.now()))}(),Object(g.a)(t=>({x:t.value.clientX,y:t.value.clientY,timestamp:t.timestamp}))),this.bubbleFun$=Object(c.a)(this.bubbleStart$,this.bubbleEnd$).pipe(Object($.a)((t,e)=>t.includes(e)?t.filter(t=>t!=e):[...t,e],[]))}ngOnInit(){}destroyItem(t){this.bubbleEnd$.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["app-mouse-move"]],decls:3,vars:3,consts:[[1,"container"],[4,"ngFor","ngForOf"],["appDynamicAnimate","",1,"bubble",3,"startPosition","dynamicAnimationDone"]],template:function(t,e){1&t&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,P,2,1,"div",1),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275elementEnd"]()),2&t&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](2,1,e.bubbleFun$)))},directives:[i.l,O],pipes:[i.b],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden}.bubble[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50px;opacity:.3}"]}),t})();const A=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["app-random"]],decls:1,vars:0,template:function(t,e){1&t&&r["\u0275\u0275element"](0,"app-mouse-move")},directives:[S],styles:[""]}),t})()}];let E=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[s.j.forChild(A)],s.j]}),t})(),N=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.c,E]]}),t})()}}]);