(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{BjfT:function(t,e,a){"use strict";a.r(e),a.d(e,"ChartingModule",function(){return J});var r=a("ofXK"),n=a("LPYB"),i=a("tyNb"),s=a("YY+H"),o=a("zQFV"),c=a("lJxs"),h=a("IzEk"),l=a("fXoL"),d=a("tqRt");let b=(()=>{class t{constructor(t,e){this.router=t,this.store=e}canActivate(t,e){return this.store.select(s.e).pipe(Object(c.a)(t=>!!t||(this.store.dispatch(o.g()),!1)),Object(h.a)(1))}canActivateChild(t,e){return this.canActivate(t,e)}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(i.f),l.Wb(d.i))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=a("Q71d"),p=a("VzMc"),u=a("3Huf"),C=a("+sQQ"),m=a("Q2Ze"),f=a("e6WT"),y=a("TN/R"),v=a("ZTz/"),x=a("HeVh"),D=a("pu8Q");const O=["myChart"];function P(t,e){1&t&&(l.Sb(0,"div",6),l.Sb(1,"h2",7),l.uc(2,"No Data Available"),l.Rb(),l.Rb())}function k(t,e){1&t&&(l.Sb(0,"div",8),l.Sb(1,"div",9),l.Ob(2,"mat-spinner"),l.Rb(),l.Rb())}let w=(()=>{class t{constructor(t){this.media=t,this.chartTitle="",this.chartDataEmpty=!1,this.lineChartData=[{data:[],label:"Infections"}],this.yAxes=!0,this.lineChartOptions={responsive:!0,ticks:{min:0},title:{display:!1,text:""},scales:{xAxes:[{type:"time",gridLines:{display:!0},time:{minUnit:"month"}}],yAxes:[{type:"linear",id:"left-axis",display:this.yAxes,position:"left"},{type:"linear",id:"right-axis",display:this.yAxes,position:"right",stacked:!1,gridLines:{drawOnChartArea:!1},ticks:{min:0}}]},elements:{point:{radius:1,hitRadius:4}}},this.lineChartLegend=!0,this.lineChartPlugins=[],this.lineChartType="line",this.changeEventListener=(function(t){this.yAxes=!t.matches,this.updateChart(!t.matches)}).bind(this)}ngOnDestroy(){var t;null===(t=this.mobileQuery)||void 0===t||t.removeEventListener("change",this.changeEventListener)}ngOnInit(){var t;this.lineChartData=this.chartdata,this.lineChartOptions.title.text=this.chartTitle,this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this.mobileQuery.addEventListener("change",this.changeEventListener),this.yAxes=!(null===(t=this.mobileQuery)||void 0===t?void 0:t.matches)}updateChart(t){this.myChart&&(this.myChart.chart.options.scales.yAxes[0].display=t,this.myChart.chart.options.scales.yAxes[1].display=t)}ngAfterViewInit(){this.updateChart(this.yAxes)}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(x.c))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-chart-presentation"]],viewQuery:function(t,e){if(1&t&&l.xc(O,1),2&t){let t;l.kc(t=l.ac())&&(e.myChart=t.first)}},inputs:{chartdata:"chartdata",chartLabels:"chartLabels",chartTitle:"chartTitle",lineChartColors:"lineChartColors",loading:"loading",chartDataEmpty:"chartDataEmpty"},decls:7,vars:10,consts:[["id","title"],["id","container"],["id","chart","baseChart","",3,"datasets","labels","options","colors","legend","chartType","plugins"],["myChart","base-chart"],["class","overlay-background transparent",4,"ngIf"],["class","overlay-background",4,"ngIf"],[1,"overlay-background","transparent"],[1,"center","nodata"],[1,"overlay-background"],[1,"center"]],template:function(t,e){1&t&&(l.Sb(0,"h3",0),l.uc(1),l.Rb(),l.Sb(2,"div",1),l.Ob(3,"canvas",2,3),l.tc(5,P,3,0,"div",4),l.Rb(),l.tc(6,k,3,0,"div",5)),2&t&&(l.Cb(1),l.vc(e.chartTitle),l.Cb(2),l.hc("datasets",e.chartdata)("labels",e.chartLabels)("options",e.lineChartOptions)("colors",e.lineChartColors)("legend",e.lineChartLegend)("chartType",e.lineChartType)("plugins",e.lineChartPlugins),l.Cb(2),l.hc("ngIf",!e.loading&&e.chartDataEmpty),l.Cb(1),l.hc("ngIf",e.loading))},directives:[n.a,r.k,D.b],styles:["#container[_ngcontent-%COMP%]{position:relative}#container[_ngcontent-%COMP%], .overlay-background[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:0}.overlay-background[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.7);z-index:9999;position:absolute;margin:0}.overlay-background[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.overlay-background[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{color:rgba(139,124,124,.5)}.overlay-background.transparent[_ngcontent-%COMP%]{background-color:inherit}"]}),t})();var $=a("UhP/"),L=a("9A8T");function M(t,e){if(1&t&&(l.Sb(0,"mat-option",16),l.uc(1),l.Rb()),2&t){const t=e.$implicit;l.hc("value",t.value),l.Cb(1),l.vc(t.title)}}let T=(()=>{class t{constructor(t){this.store=t,this.states=Object(C.a)(C.b),this.lineChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,120,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(50,50,255,0.75)"}],this.deathChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,120,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(50,50,255,0.75)"}],this.hospitalChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(255,120,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(255,50,255,0.75)"}],this.infectionChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,255,50,0.0)"},{borderColor:"green",backgroundColor:"rgba(120,120,120,0.75)"}],this.testChartColors=[{borderColor:"rgba(0,120,120,0.25)",backgroundColor:"rgba(50,120,255,0.0)"},{borderColor:"green",backgroundColor:"rgba(50,50,0,0.75)"}]}ngOnInit(){this.$chartData=this.store.select(g.h),this.$deathData=this.store.select(g.e),this.$infectionData=this.store.select(g.g),this.$hospitalData=this.store.select(g.f),this.$testsData=this.store.select(g.i),this.$chartLabels=this.store.select(g.d),this.$startDate=this.store.select(g.o),this.$endDate=this.store.select(g.m),this.$chartTitle=this.store.select(g.c),this.maxDate=new Date(p.j.endDate),this.minDate=new Date(p.j.startDate),this.$loading=this.store.select(g.k)}endDateChanged(t){this.store.dispatch(u.f({ed:t}))}startDateChanged(t){this.store.dispatch(u.g({sd:t}))}nationStateValueChanged(t){this.store.dispatch(u.d({selection:t}))}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(d.i))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-charting"]],decls:51,vars:85,consts:[[1,"data-date-range"],["id","startDate","matInput","","placeholder","Choose a date","readonly","",3,"value","min","max","matDatepicker","dateChange","click"],["startDate",""],["matSuffix","",3,"for"],[3,"startAt"],["startPicker",""],["id","endDate","matInput","","placeholder","Choose a date","readonly","",3,"value","min","max","matDatepicker","dateChange","click"],["endDate",""],["endPicker",""],["id","regionSelector","value","US",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"chart-row"],["id","infectionsChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],["id","deathChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],["id","testChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],["id","hospitalChart",3,"chartdata","chartLabels","chartTitle","lineChartColors","loading","chartDataEmpty"],[3,"value"]],template:function(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",0),l.Sb(1,"mat-form-field"),l.Sb(2,"mat-label"),l.uc(3,"Choose a start date"),l.Rb(),l.Sb(4,"input",1,2),l.Zb("dateChange",function(){l.mc(t);const a=l.lc(5);return e.startDateChanged(a.value)})("click",function(){return l.mc(t),l.lc(9).open()}),l.dc(6,"ngrxPush"),l.Rb(),l.Ob(7,"mat-datepicker-toggle",3),l.Ob(8,"mat-datepicker",4,5),l.dc(10,"ngrxPush"),l.Rb(),l.Sb(11,"mat-form-field"),l.Sb(12,"mat-label"),l.uc(13,"Choose a end date"),l.Rb(),l.Sb(14,"input",6,7),l.Zb("dateChange",function(){l.mc(t);const a=l.lc(15);return e.endDateChanged(a.value)})("click",function(){return l.mc(t),l.lc(19).open()}),l.dc(16,"ngrxPush"),l.Rb(),l.Ob(17,"mat-datepicker-toggle",3),l.Ob(18,"mat-datepicker",4,8),l.dc(20,"ngrxPush"),l.Rb(),l.Sb(21,"mat-form-field"),l.Sb(22,"mat-label"),l.uc(23,"State or National"),l.Rb(),l.Sb(24,"mat-select",9),l.Zb("selectionChange",function(t){return e.nationStateValueChanged(t.value)}),l.tc(25,M,2,2,"mat-option",10),l.Rb(),l.Rb(),l.Rb(),l.Sb(26,"div",11),l.Ob(27,"app-chart-presentation",12),l.dc(28,"ngrxPush"),l.dc(29,"ngrxPush"),l.dc(30,"ngrxPush"),l.dc(31,"ngrxPush"),l.dc(32,"ngrxPush"),l.Ob(33,"app-chart-presentation",13),l.dc(34,"ngrxPush"),l.dc(35,"ngrxPush"),l.dc(36,"ngrxPush"),l.dc(37,"ngrxPush"),l.dc(38,"ngrxPush"),l.Ob(39,"app-chart-presentation",14),l.dc(40,"ngrxPush"),l.dc(41,"ngrxPush"),l.dc(42,"ngrxPush"),l.dc(43,"ngrxPush"),l.dc(44,"ngrxPush"),l.Ob(45,"app-chart-presentation",15),l.dc(46,"ngrxPush"),l.dc(47,"ngrxPush"),l.dc(48,"ngrxPush"),l.dc(49,"ngrxPush"),l.dc(50,"ngrxPush"),l.Rb()}if(2&t){const t=l.lc(9),a=l.lc(19);l.Cb(4),l.hc("value",l.ec(6,37,e.$startDate))("min",e.minDate)("max",e.maxDate)("matDatepicker",t),l.Cb(3),l.hc("for",t),l.Cb(1),l.hc("startAt",l.ec(10,39,e.$startDate)),l.Cb(6),l.hc("value",l.ec(16,41,e.$endDate))("min",e.minDate)("max",e.maxDate)("matDatepicker",a),l.Cb(3),l.hc("for",a),l.Cb(1),l.hc("startAt",l.ec(20,43,e.$endDate)),l.Cb(7),l.hc("ngForOf",e.states),l.Cb(2),l.hc("chartdata",l.ec(28,45,e.$infectionData))("chartLabels",l.ec(29,47,e.$chartLabels))("chartTitle","Infections")("lineChartColors",e.infectionChartColors)("loading",l.ec(30,49,e.$loading))("chartDataEmpty",l.ec(31,51,e.$infectionData)[0].empty&&l.ec(32,53,e.$infectionData)[1].empty),l.Cb(6),l.hc("chartdata",l.ec(34,55,e.$deathData))("chartLabels",l.ec(35,57,e.$chartLabels))("chartTitle","Deaths")("lineChartColors",e.deathChartColors)("loading",l.ec(36,59,e.$loading))("chartDataEmpty",l.ec(37,61,e.$deathData)[0].empty&&l.ec(38,63,e.$deathData)[1].empty),l.Cb(6),l.hc("chartdata",l.ec(40,65,e.$testsData))("chartLabels",l.ec(41,67,e.$chartLabels))("chartTitle","Tests")("lineChartColors",e.testChartColors)("loading",l.ec(42,69,e.$loading))("chartDataEmpty",l.ec(43,71,e.$testsData)[0].empty&&l.ec(44,73,e.$testsData)[1].empty),l.Cb(6),l.hc("chartdata",l.ec(46,75,e.$hospitalData))("chartLabels",l.ec(47,77,e.$chartLabels))("chartTitle","Hospitalized")("lineChartColors",e.hospitalChartColors)("loading",l.ec(48,79,e.$loading))("chartDataEmpty",l.ec(49,81,e.$hospitalData)[0].empty&&l.ec(50,83,e.$hospitalData)[1].empty)}},directives:[m.c,m.f,f.b,y.b,y.d,m.g,y.a,v.a,r.j,w,$.j],pipes:[L.a],styles:[".data-date-range[_ngcontent-%COMP%]{margin:auto;width:100%;display:flex;flex-wrap:wrap;flex-direction:column;padding-top:1rem;align-items:center}.data-date-range[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding-left:0;padding-right:0;width:90%}.chart-row[_ngcontent-%COMP%]{justify-content:space-around;margin-bottom:3rem}.chart-row[_ngcontent-%COMP%], .chart-row[_ngcontent-%COMP%]   app-chart-presentation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.chart-row[_ngcontent-%COMP%]   app-chart-presentation[_ngcontent-%COMP%]{width:95%;min-height:15rem;margin-top:1rem;position:relative}@media screen and (min-width:900px){.data-date-range[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}.data-date-range[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:30%;padding-left:.5rem}}@media screen and (min-width:1200px){.chart-row[_ngcontent-%COMP%]{flex-direction:row;align-items:stretch;flex-wrap:wrap}.chart-row[_ngcontent-%COMP%]   app-chart-presentation[_ngcontent-%COMP%]{width:45%}}"]}),t})();var _=a("vkgz"),j=a("LRne"),S=a("DH7j"),R=a("yCtX"),A=a("l7GE"),E=a("ZUHj");class I{call(t,e){return e.subscribe(new F(t))}}class F extends A.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let a=0;a<e&&!this.hasFirst;a++){const e=t[a],r=Object(E.a)(this,e,void 0,a);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,a){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==a){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}const Q=[{path:"",component:T,canActivate:[b],resolve:[(()=>{class t{constructor(t,e){this.store=t,this.router=e}resolve(t){let e,a=!1;return this.store.select(g.j).pipe(Object(h.a)(1)).subscribe(t=>a=t),a?(this.store.select(g.l).pipe(Object(h.a)(1)).subscribe(t=>e=[...t]),u.c):(this.store.dispatch(u.b()),function(...t){if(1===t.length){if(!Object(S.a)(t[0]))return t[0];t=t[0]}return Object(R.a)(t,void 0).lift(new I)}(Object(j.a)(u.c),Object(j.a)(u.a).pipe(Object(_.a)(()=>this.router.navigate([""])))).pipe(Object(h.a)(1)))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(d.i),l.Wb(i.f))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]}];let N=(()=>{class t{}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(Q)],i.i]}),t})();var H=a("7bNT"),z=a("N7LN"),V=a("s7LF"),Z=a("pKmL");let J=(()=>{class t{}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(e){return new(e||t)},imports:[[r.b,n.b,N,d.k.forFeature(g.a,g.b),H.b.forFeature([z.a]),V.f,Z.a]]}),t})()}}]);